{"version":3,"sources":["webpack:///./jsx/search/ResultQueueLink.jsx","webpack:///./jsx/search/SearchBar.jsx","webpack:///./jsx/search/SearchPage.jsx","webpack:///./jsx/search/SearchResult.jsx","webpack:///./jsx/util/QueuePasswordModal.jsx"],"names":["ResultQueueLink","React","Component","constructor","props","state","sendingReq","showModal","creationDate","onJoinButtonClick","bind","componentDidMount","a","split","Date","UTC","DATE","getDate","MONTH","toLocaleString","month","HOURS","getHours","MINUTES","getMinutes","setState","alreadyExistInQueue","isPrivate","window","location","href","shortName","render","name","document","membersCount","SearchBar","onInputChange","buttonClick","e","target","value","onSearchButtonClick","SearchPage","loaded","searching","data","inputVal","searched","$","keyCode","preventDefault","fetch","then","resp","json","map","x","i","catch","err","console","log","SearchResult","isEmpty","componentWillReceiveProps","newProps","length","QueuePasswordModal","password","successful","onPasswordChange","method","status","onSuccess","undefined","fullName","onHide"],"mappings":"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","file":"9.bundle.js","sourcesContent":["import React from 'react';\r\nimport Spinner from './../util/RoundedSpinner.jsx';\r\nimport ModalWindow from './../util/QueuePasswordModal.jsx';\r\n\r\nexport default class ResultQueueLink extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {sendingReq: false, showModal: false, creationDate: null};\r\n        this.onJoinButtonClick = this.onJoinButtonClick.bind(this);\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        let a = this.props.creationDate.split(/[^0-9]/);\r\n        let creationDate = new Date(Date.UTC(a[0], a[1] - 1, a[2], a[3], a[4], a[5]));\r\n        const DATE = creationDate.getDate();\r\n        const MONTH = creationDate.toLocaleString('default', {month: 'short'});\r\n        const HOURS = creationDate.getHours();\r\n        const MINUTES = creationDate.getMinutes();\r\n        this.setState({creationDate: `${HOURS}:${MINUTES} ${DATE} ${MONTH}`});\r\n    }\r\n\r\n\r\n    onJoinButtonClick() {\r\n        if (this.props.alreadyExistInQueue) return;\r\n        this.setState({sendingReq: true});\r\n        if (this.props.isPrivate) this.setState({showModal: true});\r\n        else\r\n            window.location.href = \"#/queue/\" + this.props.shortName;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"media text-muted pt-3\">\r\n                <ModalWindow show={this.state.showModal}\r\n                             onHide={() => this.setState({showModal: false, sendingReq: false})}\r\n                             fullName={this.props.name} shortName={this.props.shortName}\r\n                            onSuccess={() => document.location.href = \"#/queue/\" + this.props.shortName}/>\r\n                <div className=\"media-body pb-3 mb-0 small lh-125\" data-aos='flip-up'>\r\n                    <div className=\"d-flex justify-content-between align-items-center w-100\">\r\n                        <strong className=\"text-gray-dark\">{this.props.name} {this.props.isPrivate ?\r\n                            <i className={\"fa fa-lock\"}></i> : \"\"}</strong>\r\n                        <div className=\"dropdown show dropleft\">\r\n                            {this.state.sendingReq ? <Spinner/> : <button onClick={this.onJoinButtonClick}\r\n                                                                          className={\"btn-sm btn-primary mr-3 \" + (this.props.alreadyExistInQueue ? \"btn-secondary\" : \"\")}>Присоедениться</button>}\r\n\r\n                        </div>\r\n                    </div>\r\n                    <span className=\"d-block\">/{this.props.shortName}</span>\r\n                    <span className=\"d-block\">Количество участников: {this.props.membersCount}</span>\r\n                    <span className=\"d-block text-secondary\">Дата создания: {this.state.creationDate}</span>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default class SearchBar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onInputChange = this.onInputChange.bind(this);\r\n        this.buttonClick = this.buttonClick.bind(this);\r\n    }\r\n\r\n    onInputChange(e) {\r\n        this.props.onInputChange(e.target.value);\r\n    }\r\n\r\n    buttonClick(e) {\r\n        this.props.onSearchButtonClick();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form className=\"card card-sm\">\r\n                <div className=\"card-body row no-gutters align-items-center\">\r\n\r\n                    <div className=\"col\">\r\n                        <input className=\"form-control form-control-lg form-control-borderless\" type=\"search\"\r\n                               placeholder=\"Search topics or keywords\" onChange={this.onInputChange}/>\r\n                    </div>\r\n                    <div className=\"col-sm-2 d-none d-sm-block\">\r\n                        <button className=\"btn btn-md ml-2 btn-success\" type=\"button\"\r\n                                onClick={this.buttonClick}>Search\r\n                        </button>\r\n                    </div>\r\n                    <br/>\r\n                    <div className=\"col-sm-3 d-sm-none row no-gutters align-items-center\">\r\n                        <button className=\"btn-sm btn-primary mx-auto col-4 mt-2\" type=\"button\"\r\n                                onClick={this.buttonClick}><i className=\"fas fa-search h5 text-body\"></i></button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport SearchBar from './SearchBar.jsx';\r\nimport SearchResult from './SearchResult.jsx';\r\nimport ResultQueueLink from './ResultQueueLink.jsx';\r\n\r\nexport default class SearchPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {loaded: false, searching: false, data: [], inputVal: \"\", searched: false};\r\n        this.onSearchButtonClick = this.onSearchButtonClick.bind(this);\r\n        this.onInputChange = this.onInputChange.bind(this);\r\n        $(document).bind(\"keypress\", e => {\r\n            if (e.keyCode === 13) {\r\n                e.preventDefault();\r\n                this.onSearchButtonClick();\r\n            }\r\n        });\r\n    }\r\n\r\n    onSearchButtonClick() {\r\n        this.setState({searching: true, loaded: false, searched: true});\r\n\r\n        fetch(\"api/search/queue?queue_name=\" + this.state.inputVal)\r\n            .then(resp => resp.json())\r\n            .then(data => {\r\n                this.setState({\r\n                    data: data.map((x, i) => <ResultQueueLink\r\n                            shortName={x[\"queue_name\"]}\r\n                            name={x[\"queue_fullname\"]}\r\n                            alreadyExistInQueue={x[\"already_in_queue\"]}\r\n                            isPrivate={x[\"private\"]}\r\n                            membersCount={x[\"members_count\"]}\r\n                            creationDate={x[\"creation_date\"]}\r\n                        />\r\n                    ), searching: false, loaded: true\r\n                })\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                this.setState({searching: false, loaded: false});\r\n            });\r\n    };\r\n\r\n    onInputChange(value) {\r\n        this.setState({inputVal: value});\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <br/>\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-12 col-md-12 col-lg-10\">\r\n                        <div data-aos=\"slide-up\" data-aos-duration=\"800\"><SearchBar\r\n                            onSearchButtonClick={this.onSearchButtonClick} onInputChange={this.onInputChange}/></div>\r\n                        <div data-aos=\"slide-up\" data-aos-duration=\"1100\"><SearchResult loaded={this.state.loaded}\r\n                                                                                        searching={this.state.searching}\r\n                                                                                        data={this.state.data}\r\n                                                                                        searched={this.state.searched}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport RoundedSpinner from './../util/RoundedSpinner.jsx';\r\n\r\n\r\nexport default class SearchResult extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {isEmpty: false};\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        this.setState({isEmpty: newProps.data.length === 0});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"my-3 p-3 bg-white rounded shadow-sm\">\r\n                <h6 className=\"border-bottom border-gray pb-2 mb-0\">Найдено:</h6>\r\n                <ul className={\"list-group\"}>\r\n                    {this.props.loaded ?\r\n                        this.state.isEmpty ? \"Ничего не найдено\" : this.props.data.map((x, i) => {\r\n                            return <li key={i} className=\"list-group-item\">{x}</li>\r\n                        })\r\n                        :\r\n                        this.props.searching ? <li className=\"mx-auto list-group-item border-0\"><RoundedSpinner/></li>\r\n                            :\r\n                            <li className={\"list-group-item mx-auto border-0\"}>\r\n                                {this.props.searched ? \"Download error\" : \"\"}\r\n                            </li>}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\nimport Modal from 'react-bootstrap/Modal.js';\r\nimport Button from 'react-bootstrap/Button.js';\r\n\r\nimport RoundedSpinner from './../util/RoundedSpinner.jsx';\r\n\r\nexport default class QueuePasswordModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {password: \"\", successful: true, sendingReq: false};\r\n        this.onPasswordChange = this.onPasswordChange.bind(this);\r\n        this.onJoinButtonClick = this.onJoinButtonClick.bind(this);\r\n    }\r\n\r\n    onJoinButtonClick() {\r\n        this.setState({sendingReq: true});\r\n        fetch(\"api/queue?queue_name=\" + this.props.shortName + \"&password=\" + this.state.password, {method: \"put\"})\r\n            .then(resp => {\r\n                if (resp.status === 200) {\r\n                    this.setState({successful: true});\r\n                    if (this.props.onSuccess !== undefined || this.props.onSuccess !==null){\r\n                        this.props.onSuccess();\r\n                    }\r\n                } else if (resp.status === 403) {\r\n                    this.setState({successful: false})\r\n                }\r\n\r\n                this.setState({sendingReq: false});\r\n            })\r\n            .catch(this.setState({sendingReq: false}))\r\n\r\n\r\n    }\r\n\r\n    onPasswordChange(e) {\r\n        this.setState({password: e.target.value});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Modal {...this.props} size=\"md\" aria-labelledby=\"password-modal-vcenter\" centered>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title id=\"password-modal-vcenter\">\r\n                        {this.props.fullName}\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    {this.state.sendingReq ? <RoundedSpinner className={\"mx-auto\"}/> :\r\n                        <div>\r\n                            Введите пароль для входа в приватную очередь:<br/>\r\n                            {this.state.successful ? \"\" : <p className={\"text-danger\"}>Неверный пароль</p>}\r\n                            <form action=\"\" className={\"mx-auto justify-content-center text-center\"}>\r\n                                <input\r\n                                    className={\"mt-2 text-center rounded \" + (this.state.successful ? \"\" : \"border-danger\")}\r\n                                    type=\"password\" id={\"password-modal-input\"} onChange={this.onPasswordChange}/>\r\n                            </form>\r\n                        </div>}\r\n\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button onClick={this.onJoinButtonClick}>Подтвердить</Button>\r\n                    <Button onClick={this.props.onHide} className={\"btn-secondary\"}>Закрыть</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n"],"sourceRoot":""}